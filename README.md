# sets up shorewall on Debian 12/11

You just need two NICs.

Externale nic needs internet connection. Internal nic can be left unconfigured - it will assume 192.168.10.1/24 ip address.

Clone this repo and run ansible playbook:

```
$ ansible-playbook playbook.yaml
[WARNING]: No inventory was parsed, only implicit localhost is available
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

PLAY [localhost] ************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ******************************************************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [install vim] **********************************************************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [install net-tools] ****************************************************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [install shorewall] ****************************************************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [install dhcpd] ********************************************************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [enable shorewall] *****************************************************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [start shorewall] ******************************************************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [set internal interface ip] ********************************************************************************************************************************************************************************************************************************************************
changed: [localhost]

TASK [enable dhcpd] *********************************************************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [copy dhcpd default config] ********************************************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [copy dhcpd config file] ***********************************************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [copy shorewall config file] *******************************************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [copy interfaces file] *************************************************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [copy policy file] *****************************************************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [copy zones file] ******************************************************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [copy snat file] *******************************************************************************************************************************************************************************************************************************************************************
ok: [localhost]

PLAY RECAP ******************************************************************************************************************************************************************************************************************************************************************************
localhost                  : ok=16   changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
```
